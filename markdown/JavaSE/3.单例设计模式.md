# 单例设计模式

## 设计模式是什么

解决问题的套路/代码风格/结构

单例：（单个的实例）



## 单例模式是什么

采取一定的方法对某个类只能存在一个对象实例，并且该类只提供一个取得对象实例的方法

开始执行到结束，只能保证一个类只有一个实例



## 总类

饿汉式、懒汉式



## 饿汉式

1.构造器私有化（防止直接new

2.类的内部创建对象，该对象是静态的

3.向外暴露一个静态的公共方法返回对象 GetInstance()



![image-20220419165918508](/Users/chenyonglin/Library/Application Support/typora-user-images/image-20220419165918508.png)



只要类一旦加载，这个对象就直接被创建了，不管你用不用，所以叫饿汉式

所以可能会造成资源的浪费



## 懒汉式

优化了饿汉式的资源浪费的问题，在需要使用的时候才创建对象

第二次调用的时候，会返回上次创建的对象



![image-20220419171358908](/Users/chenyonglin/Library/Application Support/typora-user-images/image-20220419171358908.png)



## 区别

1.最主要区别是 创建对象的时机不同，饿汉式在类加载的时候就创建了对象实例，懒汉式是在使用的时候才会创建

2.饿汉式不存在线程安全的问题，懒汉式存在（多个线程一瞬间都进来new对象，则单例模式就被破坏了，存在线程安全问题）

3.饿汉式存在资源浪费的问题，懒汉式不存在



JavaSE中，java.lang.Runtime就是经典的单例模式